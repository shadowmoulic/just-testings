<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our 2025 Wrapped</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&family=Dancing+Script:wght@700&display=swap');

        /* --- BASIC SETUP --- */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%; 
            height: 100dvh; /* Mobile viewport fix */
            overflow: hidden;
            background-color: #121212;
            font-family: 'Montserrat', sans-serif;
            color: white;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* --- FLOATING HEARTS ANIMATION --- */
        .heart-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .heart {
            position: absolute;
            bottom: -10vh;
            color: #e91e63;
            opacity: 0;
            animation: floatUp 6s ease-in-out infinite;
            font-size: 2rem;
        }

        @keyframes floatUp {
            0% { transform: translateY(0) scale(0.5); opacity: 0; }
            20% { opacity: 0.8; }
            100% { transform: translateY(-120vh) scale(1.2) rotate(20deg); opacity: 0; }
        }

        /* --- SLIDE CONTAINER --- */
        #app {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }

        /* --- INDIVIDUAL SLIDES --- */
        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            box-sizing: border-box;
            opacity: 0;
            transform: translateX(100%); 
            transition: transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1), opacity 0.5s ease;
            pointer-events: none;
        }

        .slide.active {
            opacity: 1;
            transform: translateX(0);
            pointer-events: auto;
            z-index: 2;
        }

        .slide.exit-left {
            transform: translateX(-100%);
            opacity: 0;
            z-index: 1;
        }

        .slide.exit-right {
            transform: translateX(100%);
            opacity: 0;
            z-index: 3;
        }

        .slide.prep-left {
            transform: translateX(-100%) !important;
            transition: none !important;
            opacity: 1; 
        }

        /* --- TYPOGRAPHY --- */
        h1 {
            font-size: 3.5rem;
            font-weight: 900;
            text-transform: uppercase;
            background: linear-gradient(45deg, #ff4081, #ff9100);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            line-height: 1.1;
        }

        h2 {
            font-size: 2rem;
            font-weight: 700;
            color: #fce4ec;
            margin-bottom: 10px;
        }

        p {
            font-size: 1.2rem;
            line-height: 1.6;
            max-width: 600px;
            color: #b0bec5;
            margin: 10px 0;
        }

        .big-stat {
            font-size: 5rem;
            font-weight: 900;
            color: #fff;
            text-shadow: 0 0 20px rgba(255, 64, 129, 0.5);
        }

        /* --- IMAGE STYLING (FIXED) --- */
        .slide-image {
            max-width: 280px; 
            width: 100%;      
            height: auto;
            border-radius: 20px;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.6);
            object-fit: cover;
            pointer-events: none; /* Stops image from interfering with clicks */
        }

        @media (max-width: 600px) {
            .slide-image { max-width: 70%; }
            h1 { font-size: 2.5rem; }
            h2 { font-size: 1.5rem; }
            .big-stat { font-size: 3.5rem; }
            p { font-size: 1rem; }
        }

        /* --- LETTER STYLING --- */
        .letter-content {
            font-family: 'Dancing Script', cursive;
            font-size: 1.4rem; 
            line-height: 1.5;
            color: #ff52c8;
            text-align: left;
            background: rgba(255, 255, 255, 0.08);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            width: 90%;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            
            /* Crucial for scrolling */
            max-height: 55vh; 
            overflow-y: auto; 
            pointer-events: auto; /* Ensures text captures scroll touches */
            z-index: 50;
        }

        /* --- CONTROLS --- */
        .tap-hint {
            position: absolute;
            bottom: 20px;
            width: 100%;
            text-align: center;
            font-size: 0.8rem;
            opacity: 0.6;
            pointer-events: none;
            z-index: 50;
        }

        #muteBtn {
            position: fixed;
            top: 15px;
            right: 15px;
            z-index: 101;
            background: rgba(0,0,0,0.4);
            border: none;
            border-radius: 50%;
            width: 44px;
            height: 44px;
            font-size: 18px;
            cursor: pointer;
            color: white;
            backdrop-filter: blur(6px);
        }
    </style>
</head>
<body>

    <div class="heart-container" id="heartContainer"></div>

    <button id="muteBtn" onclick="toggleMute(event)">ðŸ”Š</button>

    <div id="app">
        
        <div class="slide active">
            <h2>Welcome to</h2>
            <h1>OUR<br>2025<br>WRAPPED</h1>
            <p>Tap right to start...</p>
        </div>

        <div class="slide">
            <h2>We spent</h2>
            <div class="big-stat">365</div>
            <h2>Days Loving Each Other</h2>
            <p>(And I loved every single second of it)</p>
        </div>

        <div class="slide">
            <h2>This year</h2>
            <div class="big-stat">213</div>
            <h2>"ILY"s were exchanged!</h2>
            <p>Every single of them made my day, my love.</p>
        </div>

        <div class="slide">
            <h2>Top Theme of 2025:</h2>
            <h1>DEEP<br>CONNECTION</h1>
            <p>From figuring out life, getting into our colleges,<br>to choosing each other every single day.</p>
            <p><i>The best part wasnâ€™t the chaos â€” it was us.</i></p>
        </div>

        <div class="slide">
            <h2>My Favorite Feature</h2>
            <div class="big-stat">YOU</div>
            <p>Your smile was the #1 tracked event in my heart this year.</p>
        </div>

        <div class="slide">
            <h2>This year, in one frame</h2>
            <img src="img-one-bite.jpg" alt="Us in 2025" class="slide-image">
            <p>Growth, chaos, dreams â€” and always finding our way back to each other.</p>
        </div>

        <div class="slide">
            <h2>What Iâ€™m Most Proud Of</h2>
            <p>You chasing your dreams.<br>Us getting into our colleges.<br><br>And somehow still building things together â€” even when life got heavy.</p>
            <p><i>You inspire me more than you know.</i></p>
        </div>

        <div class="slide">
            <h2>2025 Wins (Powered by You)</h2>
            <p>Sex & Romance crossed 2.1k readers.<br>YouTube hit 2.5k subs.<br><br>But the real win? Doing it while feeling supported, understood, and never alone.</p>
        </div>

        <div class="slide">
            <h2>One last thing...</h2>
            <div class="letter-content">
                "Dearest wifey,<br><br>
                2025 was amazing because you were by my side.<br><br>
                I thank God every day for bringing you into my life, and even more for you choosing to stay, to grow, to believe, and to stand beside me when things were uncertain.<br><br>
                <span style="color: #ff80ab;">Aro onek bochor dhore amra ek sathe thakbo. Prottek bochor, prottek din, prottek moment e â€” ami aro beshi bhalobashi tomake.</span><br><br>
                I can't help falling in love with you again and again, every single day.<br><br>
                Thank you for choosing me â€” even when I was building, breaking, dreaming, and rebuilding again.<br><br>
                2026 will be even better. Dekhenio ;) and amader sob bhalo hobe.<br><br>
                I love youuuuuuuuuuuuuu infinityyyyyyy."
            </div>
            <p style="margin-top: 20px; font-size: 0.8rem;">(Tap outside box to replay)</p>
        </div>

        <div class="tap-hint">Tap Left to go back &larr; &nbsp; &nbsp; &rarr; Tap Right to continue</div>
    </div>

    <audio id="bgMusic" preload="auto" loop>
        <source src="romantic.mp3" type="audio/mpeg">
    </audio>

    <script>
        // --- HEART GENERATOR ---
        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = 'â¤';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = Math.random() * 3 + 4 + 's';
            heart.style.fontSize = Math.random() * 20 + 20 + 'px';
            document.getElementById('heartContainer').appendChild(heart);
            setTimeout(() => heart.remove(), 7000);
        }
        setInterval(createHeart, 300);

        // --- MUSIC LOGIC ---
        const music = document.getElementById("bgMusic");
        const muteBtn = document.getElementById("muteBtn");
        let musicStarted = false;
        let isMuted = false;

        function fadeInMusic() {
            let volume = 0;
            music.volume = 0;
            music.play().catch(e => console.log("User interaction needed for audio"));
            const fade = setInterval(() => {
                if (volume < 0.3) { 
                    volume += 0.02;
                    music.volume = volume;
                } else {
                    clearInterval(fade);
                }
            }, 200);
        }

        function toggleMute(e) {
            e.stopPropagation(); 
            isMuted = !isMuted;
            music.muted = isMuted;
            muteBtn.textContent = isMuted ? "ðŸ”‡" : "ðŸ”Š";
        }

        // --- SLIDE NAVIGATION LOGIC ---
        let currentIndex = 0;
        const slides = document.querySelectorAll('.slide');
        const tapHint = document.querySelector('.tap-hint');
        const app = document.getElementById('app');

        function updateSlideClasses(newIndex, direction) {
            const currentSlide = slides[currentIndex];
            const nextSlide = slides[newIndex];

            // Safety reset
            slides.forEach((s, i) => {
                if(i !== currentIndex && i !== newIndex) s.className = "slide"; 
            });

            if (direction === 'next') {
                currentSlide.classList.remove('active', 'exit-right');
                currentSlide.classList.add('exit-left');
                
                nextSlide.classList.remove('exit-left', 'exit-right');
                nextSlide.classList.add('active');
            } else {
                currentSlide.classList.remove('active', 'exit-left');
                currentSlide.classList.add('exit-right');

                nextSlide.classList.remove('exit-right', 'exit-left');
                nextSlide.classList.add('prep-left'); 
                
                void nextSlide.offsetWidth; // Force Reflow

                nextSlide.classList.remove('prep-left');
                nextSlide.classList.add('active');
            }

            currentIndex = newIndex;
            updateHint();
        }

        function updateHint() {
            if (currentIndex === slides.length - 1) {
                tapHint.innerText = "Take your time â¤ï¸ Tap Right to replay";
            } else if (currentIndex === 0) {
                tapHint.innerText = "Tap Right to start ->";
            } else {
                tapHint.innerText = "<- Tap Left to back | Tap Right to next ->";
            }
        }

        function nextSlide() {
            if (!musicStarted) {
                fadeInMusic();
                musicStarted = true;
            }

            if (currentIndex >= slides.length - 1) {
                slides.forEach(s => s.className = 'slide');
                currentIndex = 0;
                slides[0].classList.add('active');
                updateHint();
                return;
            }
            updateSlideClasses(currentIndex + 1, 'next');
        }

        function prevSlide() {
            if (currentIndex <= 0) return;
            updateSlideClasses(currentIndex - 1, 'prev');
        }

        // --- SMART CLICK HANDLER ---
        app.addEventListener('click', (e) => {
            // 1. If user clicked the text box, DO NOT change slides (allow scrolling)
            if (e.target.closest('.letter-content')) {
                return;
            }

            // 2. Decide Next or Prev based on click position
            const screenWidth = window.innerWidth;
            if (e.clientX > screenWidth / 2) {
                nextSlide();
            } else {
                prevSlide();
            }
        });

    </script>
</body>
</html>
